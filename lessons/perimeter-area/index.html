<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>درس محوسب — المحيط والمساحة (نسخة عامة قابلة للدمج)</title>
 <!-- فصل التنسيقات والسكربتات: لا تعتمد على صفحات أخرى -->
<link rel="stylesheet" href="assets/lesson.css">
<script defer src="assets/lesson.js"></script>
</head>
<body>
  <div class="lesson-root">
    <header class="header">
      <div class="container hero">
        <div>
          <h1 class="title">الدرس المحوسب — <span class="pill perimeter">المحيط</span> و<span class="pill area">المساحة</span></h1>
          <p class="subtitle">منهج استقصائي (ملاحظة → مقارنة → فرضية → اختبار/تعميم → صوغ القاعدة → تطبيق وتوسّع). الترميز اللوني ثابت: <span class="swatch"><i class="per"></i>أحمر للمحيط</span>، <span class="swatch"><i class="ar"></i>أصفر للمساحة</span>.</p>
          <div class="tags">
            <span class="tag">مستقل عن بقية الموقع</span>
            <span class="tag">قابل للتوسّع</span>
            <span class="tag">RTL + وصولية</span>
          </div>
        </div>
        <div class="controls">
          <button class="btn primary" id="expandAll">فتح كل البطاقات</button>
          <button class="btn" id="collapseAll">إغلاق كل البطاقات</button>
          <div class="font-ctrl" role="group" aria-label="تحكم حجم الخط">
            <button class="btn small" id="fsPlus" title="تكبير A+">A+</button>
            <button class="btn small" id="fsReset" title="إرجاع 100%">100%</button>
            <button class="btn small" id="fsMinus" title="تصغير A-">A-</button>
          </div>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="grid" aria-label="شبكة البطاقات">
        <!-- الأهداف -->
        <details class="card" open>
          <summary><h3>الأهداف السلوكية</h3><span class="pill">انقر للفتح/الإغلاق</span></summary>
          <!-- نحافظ على لون عنوان البطاقة كما هو، ونستخدم لون جسد مختلف مقترَح في CSS -->
          <div class="body alt-body"> 
            <ul>
              <li>تمييز الفرق بين <strong>المحيط</strong> (طول الحد الخارجي) و<strong>المساحة</strong> (عدد الوحدات المربعة داخل الشكل).</li>
              <li>استنتاج وصوغ القوانين: مستطيل \(P=2(ط+ع)\)، \(A=ط×ع\) — مربع \(P=4s\) ، \(A=s^2\).</li>
              <li>حساب محيط/مساحة مربعات ومستطيلات بدقة مع اختيار <strong>الوحدة الصحيحة</strong> (م/سم للمحيط، م²/سم² للمساحة).</li>
              <li>تطبيق المفهوم على مسائل حياتية وبطاقات المطابقة.</li>
            </ul>
          </div>
        </details>

        <!-- التوزيع الزمني -->
        <details class="card">
          <summary><h3>التوزيع الزمني المقترح</h3><span class="pill">90 دقيقة</span></summary>
          <div class="body">
            <ul>
              <li>تمهيد (5د) — تذكير بالترميز اللوني.</li>
              <li>نشاط الساحة: ملاحظة ومقارنة (15د) + سلامة.</li>
              <li>نشاط صفّي: إحاطة الطاولة/الدرجة ومساحة الجلوس (10د).</li>
              <li>لعبة بطاقات المطابقة (15د).</li>
              <li>الاستنتاج وصوغ القاعدة (10د).</li>
              <li>ورقة عمل تلوين (15د).</li>
              <li>نشاط التطبيق المضمَّن (10د).</li>
              <li>بطاقة خروج/تقويم ختامي (10د).</li>
            </ul>
          </div>
        </details>

        <!-- المواد والأدوات -->
        <details class="card">
          <summary><h3>المواد والأدوات</h3><span class="pill">ساحة + صف</span></summary>
          <div class="body">
            <ul>
              <li>شريط/طباشير، مخاريط، متر قياس، سترات فسفورية، لوحتي "المحيط/المساحة"، كاميرا.</li>
              <li>بطاقات أبعاد/محيط/مساحة، أوراق عمل، أقلام <span class="pill perimeter">حمراء</span> و<span class="pill area">صفراء</span>.</li>
              <li>حاسوب/لوح لتشغيل التطبيق المضمَّن.</li>
            </ul>
            <div class="note">سلامة: تحديد مساحة النشاط، منع الجري/الدفع، توزيع أدوار واضحة بإشارة المعلّم.</div>
          </div>
        </details>

        <!-- جدول المواد المختصر -->
        <details class="card">
          <summary><h3>جدول المواد المختصر</h3><span class="pill">ملخص تجهيز</span></summary>
          <div class="body">
            <div class="table-wrap">
              <table aria-label="جدول المواد">
                <thead><tr><th>البند</th><th>الكمية</th><th>ملاحظات</th></tr></thead>
                <tbody>
                  <tr><td>شريط/طباشير + مخاريط</td><td>حسب الحاجة</td><td>رسم حدود المستطيل في الساحة</td></tr>
                  <tr><td>متر قياس</td><td>2–3</td><td>توزيع على مجموعات</td></tr>
                  <tr><td>سترات فسفورية</td><td>8–12</td><td>تمييز طلاب الحافة</td></tr>
                  <tr><td>بطاقات مطابقة</td><td>مجموعة/صف</td><td>أبعاد/محيط/مساحة</td></tr>
                  <tr><td>ورقة عمل</td><td>نسخة/طالب</td><td>تلوين أحمر/أصفر</td></tr>
                  <tr><td>ألوان</td><td>كافية</td><td>ترميز ثابت</td></tr>
                  <tr><td>كاميرا/هاتف</td><td>1</td><td>صورتا “المحيط/المساحة”</td></tr>
                  <tr><td>حاسوب/لوح</td><td>1+</td><td>تشغيل التطبيق</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <!-- البنية الاستقرائية -->
        <details class="card wide" open>
          <summary><h3>البنية الاستقرائية الصارمة</h3><span class="pill">أ → و</span></summary>
          <div class="body">
            <div class="legend">
              <span><i class="per"></i> محيط (أحمر)</span>
              <span><i class="ar"></i> مساحة (أصفر)</span>
            </div>
            <details class="card" open>
              <summary><h3>أ) الملاحظة — نشاط الساحة</h3></summary>
              <div class="body">
                <ol>
                  <li>طلاب الحافة يقفون على الحدود (<span class="pill perimeter">محيط</span>)، التقط صورة ووسّمها.</li>
                  <li>مجموعة ثانية تصطف داخل الشكل (<span class="pill area">مساحة</span>)، التقط صورة ووسّمها.</li>
                </ol>
                <div class="note">اسأل: أين نقف إذا طلبنا "إحاطة"؟ وأين نقف إذا أردنا "ملء" الشكل؟</div>
              </div>
            </details>
            <details class="card">
              <summary><h3>ب) المقارنة</h3></summary>
              <div class="body">الحد الخارجي <strong>خط</strong> يُقاس بالمتر/السم (محيط). الداخل <strong>مساحة</strong> تُقاس بالمتر المربّع/السم المربّع.</div>
            </details>
            <details class="card">
              <summary><h3>ج) فرضية/تخمين</h3></summary>
              <div class="body">إذا زاد الطول/العرض: المحيط يزيد غالبًا، والمساحة تزيد — مضاعفة بُعد تُضاعِف المساحة.</div>
            </details>
            <details class="card">
              <summary><h3>د) اختبار/تعميم (صفّي + بطاقات)</h3></summary>
              <div class="body">
                <ul>
                  <li>إحاطة الطاولة = محيط. جلوس منتظم = مساحة.</li>
                  <li>لعبة المطابقة (أبعاد/محيط/مساحة) — انظر بطاقة اللعبة أدناه.</li>
                </ul>
              </div>
            </details>
            <details class="card">
              <summary><h3>هـ) صوغ القاعدة</h3></summary>
              <div class="body">مستطيل: \(P=2(ط+ع)\)، \(A=ط×ع\). مربع: \(P=4s\)، \(A=s^2\).</div>
            </details>
            <details class="card">
              <summary><h3>و) تطبيق وتوسّع</h3></summary>
              <div class="body">أوراق تلوين + التطبيق المضمّن + تحديات محيط ثابت/مساحات مختلفة.</div>
            </details>
          </div>
        </details>

        <!-- أسئلة المعلّم -->
        <details class="card wide">
          <summary><h3>أسئلة المعلّم المتدرجة</h3><span class="pill">إجابات مخفية</span></summary>
          <div class="body">
            <div class="controls compact">
              <button class="btn" id="revealAll">إظهار كل الإجابات</button>
              <button class="btn" id="hideAll">إخفاء كل الإجابات</button>
            </div>
            <div class="q"><h4>1) ما تعريف <strong>المحيط</strong>؟ وما تعريف <strong>المساحة</strong>؟</h4><button class="btn small toggle-answer">إظهار الإجابة</button><div class="answer">المحيط: طول الحدّ الخارجي. المساحة: عدد الوحدات المربعة داخل الشكل.</div></div>
            <div class="q"><h4>2) ما الفرق بين تلوين الحواف بالأحمر وتلوين الداخل بالأصفر؟</h4><button class="btn small toggle-answer">إظهار الإجابة</button><div class="answer">الأحمر للمحيط (خط)، الأصفر للمساحة (مربعات).</div></div>
            <div class="q"><h4>3) إذا ضاعفنا الطول فقط، ماذا يحدث للمحيط؟ وماذا للمساحة؟</h4><button class="btn small toggle-answer">إظهار الإجابة</button><div class="answer">المحيط يزداد؛ المساحة تتضاعف.</div></div>
            <div class="q"><h4>4) أعطِ مستطيلين لهما نفس المحيط لكن مساحتين مختلفتين.</h4><button class="btn small toggle-answer">إظهار الإجابة</button><div class="answer">2×6 و3×5 (المحيط 16م؛ المساحتان 12 و15 م²).</div></div>
            <div class="q"><h4>5) ما الوحدة المناسبة لكل من المحيط والمساحة؟ ولماذا؟</h4><button class="btn small toggle-answer">إظهار الإجابة</button><div class="answer">المحيط: م/سم (طول). المساحة: م²/سم² (مربعات).</div></div>
          </div>
        </details>

        <!-- الأخطاء الشائعة -->
        <details class="card">
          <summary><h3>الأخطاء الشائعة</h3><span class="pill warn">تنبيه</span></summary>
          <div class="body">
            <ul>
              <li>خلط الوحدة (محيط بم² أو مساحة بم).</li>
              <li>عدّ مربعات الحدود كمحيط.</li>
              <li>نسيان مضاعفة (2×) في محيط المستطيل.</li>
            </ul>
          </div>
        </details>

        <!-- لعبة المطابقة (قوائم) -->
        <details class="card wide" open>
          <summary><h3>لعبة بطاقات المطابقة — (أبعاد ↔ محيط ↔ مساحة)</h3><span class="pill">تدريب</span></summary>
          <div class="body">
            <p>اختر المطابقة الصحيحة لكل بطاقة أبعاد. ثم اضغط <strong>تحقق</strong>.</p>
            <div class="tri-grid" id="triMatch"></div>
            <div class="controls"><button class="btn" id="checkTri">تحقق</button><button class="btn" id="shuffleTri">إعادة خلط</button><span class="score" id="triScore"></span></div>
          </div>
        </details>

        <!-- أوراق العمل -->
        <details class="card">
          <summary><h3>أوراق العمل</h3><span class="pill">مرفقات</span></summary>
          <div class="body">
            <ul>
              <li>مربع ضلع 4سم — لوّن <span class="pill perimeter">المحيط</span> بالأحمر و<span class="pill area">المساحة</span> بالأصفر واحسب \(P\) و\(A\).</li>
              <li>مستطيل 5×3سم — لوّن واحسب.</li>
              <li>مستطيل 7×1سم — لوّن واحسب.</li>
              <li>شكل مركّب (L) — جزِّئ إلى مستطيلين.</li>
            </ul>
            <div class="note">ضع ملفات PDF داخل <span class="kbd">worksheets/</span> وعدّل الروابط:</div>
            <div class="chips">
              <a class="btn ghost" href="worksheets/worksheet-A.pdf" target="_blank">تحميل ورقة A (PDF)</a>
              <a class="btn ghost" href="worksheets/worksheet-B.pdf" target="_blank">تحميل ورقة B (PDF)</a>
              <a class="btn ghost" href="worksheets/worksheet-C.pdf" target="_blank">تحميل ورقة C (PDF)</a>
            </div>
          </div>
        </details>

        <!-- الدعم والإثراء -->
        <details class="card">
          <summary><h3>الدعم والإثراء</h3><span class="pill">تمييز</span></summary>
          <div class="body">دعم: مربعات شبكية/قطع 1×1، جمل مساعدة، عمل ثنائي. إثراء: محيط ثابت، مضلعات بالتجزئة، ملاحظة الدائرة دون صيغ.</div>
        </details>

        <!-- إدارة الصف -->
        <details class="card">
          <summary><h3>إدارة الصف</h3><span class="pill">أدوار</span></summary>
          <div class="body">أدوار: قائد، كاتب، مصوّر، مراقب سلامة، متحدّث. إشارات يد وتوقيت واضح لكل محطة.</div>
        </details>

        <!-- التقويم + امتحان محوسب -->
        <details class="card wide">
          <summary><h3>التقويم + امتحان محوسب (10 بنود)</h3><span class="pill">تصحيح تلقائي</span></summary>
          <div class="body">
            <div class="note">بطاقة خروج: مستطيل 4×7م → \(P=22\)م، \(A=28\)م²؛ حدّد الوحدة الصحيحة.</div>
            <form class="quiz" id="quizForm">
              <div class="q" data-type="mc" data-correct="b"><h4>1) ما تعريف <strong>المحيط</strong>؟</h4><label><input type="radio" name="q1" value="a"> عدد الوحدات المربعة داخل الشكل</label><br><label><input type="radio" name="q1" value="b"> طول الحدّ الخارجي للشكل</label><br><label><input type="radio" name="q1" value="c"> مساحة السطح</label><div class="feedback"></div></div>
              <div class="q" data-type="mc" data-correct="c"><h4>2) مساحة مستطيل 8×3م = ؟</h4><label><input type="radio" name="q2" value="a"> 20م²</label><br><label><input type="radio" name="q2" value="b"> 18م</label><br><label><input type="radio" name="q2" value="c"> 24م²</label><div class="feedback"></div></div>
              <div class="q" data-type="mc" data-correct="b"><h4>3) محيط مستطيل 4×7م = ؟</h4><label><input type="radio" name="q3" value="a"> 28م²</label><br><label><input type="radio" name="q3" value="b"> 22م</label><br><label><input type="radio" name="q3" value="c"> 24م</label><div class="feedback"></div></div>
              <div class="q" data-type="mc" data-correct="b"><h4>4) ص/خ: وحدة المساحة قد تكون "متر".</h4><label><input type="radio" name="q4" value="a"> صواب</label><br><label><input type="radio" name="q4" value="b"> خطأ</label><div class="feedback"></div></div>
              <div class="q" data-type="input" data-correct="24,36"><h4>5) مربع ضلعُه 6م: اكتب المحيط ثم المساحة (افصل بفاصلة).</h4><input type="text" name="q5" placeholder="مثال: 24,36"><div class="feedback"></div></div>
              <div class="q" data-type="match" data-match="{&quot;1×5&quot;:&quot;12م&quot;,&quot;2×3&quot;:&quot;10م&quot;,&quot;3×3&quot;:&quot;12م&quot;}"><h4>6) طابق الأبعاد مع المحيط (سحب وإفلات).</h4><div class="match"><div><div class="tile" draggable="true">1×5</div><div class="tile" draggable="true">2×3</div><div class="tile" draggable="true">3×3</div></div><div><div class="bucket" data-label="12م"><h5>12م</h5></div><div class="bucket" data-label="10م"><h5>10م</h5></div><div class="bucket" data-label="14م"><h5>14م</h5></div></div></div><div class="feedback"></div></div>
              <div class="q" data-type="match" data-match="{&quot;1×5&quot;:&quot;5م²&quot;,&quot;2×3&quot;:&quot;6م²&quot;,&quot;3×3&quot;:&quot;9م²&quot;}"><h4>7) طابق الأبعاد مع المساحة.</h4><div class="match"><div><div class="tile" draggable="true">1×5</div><div class="tile" draggable="true">2×3</div><div class="tile" draggable="true">3×3</div></div><div><div class="bucket" data-label="5م²"><h5>5م²</h5></div><div class="bucket" data-label="6م²"><h5>6م²</h5></div><div class="bucket" data-label="9م²"><h5>9م²</h5></div></div></div><div class="feedback"></div></div>
              <div class="q" data-type="mc" data-correct="a"><h4>8) أي زوج له نفس المحيط؟</h4><label><input type="radio" name="q8" value="a"> 2×6 و3×5</label><br><label><input type="radio" name="q8" value="b"> 1×8 و2×5</label><div class="feedback"></div></div>
              <div class="q" data-type="input" data-correct="28,45"><h4>9) حديقة 5×9م: اكتب المحيط ثم المساحة.</h4><input type="text" name="q9" placeholder="مثال: 28,45"><div class="feedback"></div></div>
              <div class="q" data-type="input" data-correct="14م"><h4>10) صحّح: "محيط 3×4 = 12م²" →</h4><input type="text" name="q10" placeholder="مثال: 14م"><div class="feedback"></div></div>
              <div class="controls"><button class="btn primary" type="button" id="gradeQuiz">صحّح الامتحان</button><button class="btn" type="button" id="resetQuiz">إعادة تعيين</button><span class="score" id="quizScore"></span></div>
            </form>
          </div>
        </details>

        <!-- الروبرك -->
        <details class="card">
          <summary><h3>معايير تقدير الأداء (روبرك مختصر)</h3><span class="pill">4 مستويات</span></summary>
          <div class="body">
            <div class="table-wrap">
              <table>
                <thead><tr><th>المعيار</th><th>ممتاز (4)</th><th>جيّد (3)</th><th>مقبول (2)</th><th>بحاجة لدعم (1)</th></tr></thead>
                <tbody>
                  <tr><td>فهم المفهوم</td><td>يشرح بدقة مع أمثلة</td><td>يميّز غالبًا</td><td>يخلط أحيانًا</td><td>يخلط غالبًا</td></tr>
                  <tr><td>الحساب والدقة</td><td>صحيح وبالوحدات</td><td>أخطاء طفيفة</td><td>أخطاء متكررة</td><td>لا يكتمل</td></tr>
                  <tr><td>اختيار الوحدة</td><td>دائمًا صحيح</td><td>نادراً يخطئ</td><td>يخلط أحيانًا</td><td>يخلط غالبًا</td></tr>
                  <tr><td>الاستقصاء والمشاركة</td><td>يقود ويبرهن</td><td>يشارك بانتظام</td><td>محدود</td><td>سلبي</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <!-- القواعد الصريحة -->
        <details class="card">
          <summary><h3>القواعد الصريحة (مع الوحدات الصحيحة)</h3><span class="pill">صيغ</span></summary>
          <div class="body">
            <ul>
              <li><strong>المحيط</strong>: مستطيل \(P=2(ط+ع)\) — <em>وحدة طول</em> (م/سم). مربع \(P=4s\).</li>
              <li><strong>المساحة</strong>: مستطيل \(A=ط×ع\) — <em>وحدة مربعة</em> (م²/سم²). مربع \(A=s^2\).</li>
            </ul>
          </div>
        </details>

        <!-- ملاحظات تنفيذ -->
        <details class="card">
          <summary><h3>ملاحظات تنفيذ سريعة</h3><span class="pill">نصائح</span></summary>
          <div class="body">
            <ul>
              <li><span class="pill perimeter">أحمر = محيط</span>، <span class="pill area">أصفر = مساحة</span>.</li>
              <li>عبارة تذكّر: "المحيط نجمع ثم نُضاعف، المساحة نضرب".</li>
              <li>علّق صوري الساحة تحت عنوانَي "المحيط" و"المساحة".</li>
            </ul>
          </div>
        </details>

        <!-- === التطبيق المضمَّن (نسخة مصغّرة مستقلة عن الأصل) === -->
        <details class="card wide" open>
          <summary><h3>تجريب الوحدات — نسخة مصغّرة مضمّنة (W×L)</h3><span class="pill">للتجريب فقط</span></summary>
          <div class="body">
            <div class="ap-scope" id="apScope">
              <section class="panel">
                <div class="ctrl">
                  <button id="addRow" class="btn">+ صف</button>
                  <button id="addCol" class="btn">+ عمود</button>
                  <button id="resetBtn" class="btn">إعادة الضبط</button>
                </div>
                <div class="ctrl">
                  <label for="widRange">العرض W:</label>
                  <input id="widRange" type="range" min="1" max="20" step="1" value="8">
                </div>
                <div class="ctrl">
                  <label for="lenRange">الطول L:</label>
                  <input id="lenRange" type="range" min="1" max="20" step="1" value="6">
                </div>
                <div class="ctrl">
                  <button id="btnArea" class="btn area-btn" title="تلوين المساحة (الكل)">المساحة</button>
                  <button id="btnPerimeter" class="btn per-btn" title="تلوين المحيط (الحواف)">المحيط</button>
                </div>
                <div class="zoomGroup">
                  <button id="zoomIn" class="btn small">تكبير +</button>
                  <button id="zoomReset" class="btn small">100%</button>
                  <button id="zoomOut" class="btn small">تصغير −</button>
                </div>
              </section>

              <section class="metrics" aria-live="polite">
                <div id="metrics"></div>
              </section>

              <section class="arena">
                <div id="stage" style="transform: scale(1);">
                  <div id="grid" class="grid" aria-live="polite"></div>
                  <svg id="guides" class="guides" viewBox="0 0 100 100" preserveAspectRatio="none">
                    <line id="gH" x1="5" y1="95" x2="95" y2="95"></line>
                    <line id="gV" x1="95" y1="5" x2="95" y2="95"></line>
                    <text id="tH" x="50" y="97.5" text-anchor="middle">العرض = W = 8</text>
                    <text id="tV" x="97.5" y="50" transform="rotate(-90 98,50)">الطول = L = 6</text>
                  </svg>
                </div>
              </section>
            </div>
            <p class="note" style="margin-top:10px">هذه نسخة مصغّرة مستقلة لا تؤثر على الصفحة الأصلية <span class="kbd">apps/area-perimeter/index.html</span> ولا تعتمد عليها.</p>
          </div>
        </details>

        <!-- دليل الدمج -->
        <details class="card wide">
          <summary><h3>دليل الدمج والتوسعة في الموقع</h3><span class="pill">هيكل</span></summary>
          <div class="body">
<ol>
<li><strong>المسار المستهدف</strong> (كما طلبت): <span class="kbd">/lessons/perimeter-area/index.html</span> على GitHub Pages:
<pre class="kbd">/lessons/
  └─ /perimeter-area/
     ├─ index.html       ← هذا الملف
     ├─ /worksheets/     ← أوراق العمل PDF
     └─ /assets/
        ├─ lesson.css
        └─ lesson.js</pre>
</li>
<li><strong>إضافة بطاقة من الرئيسية</strong> إلى <span class="kbd">/lessons/perimeter-area/</span>.</li>
<li><strong>لا تعارض</strong>: جميع الأنماط والسكربتات مُحاطة بـ <span class="kbd">.lesson-root</span> و <span class="kbd">.ap-scope</span> لمنع أي تداخل مع "مختبر تطبيقات الرياضيات – الصف الخامس إلى التاسع".</li>
<li><strong>توسعة لاحقة</strong>: إنشاء <span class="kbd">/lessons/lessons.json</span> وفهرس <span class="kbd">/lessons/index.html</span> لتوليد بطاقات الدروس تلقائيًا.</li>
</ol>
          </div>
        </details>

      </section>

      <button class="btn to-top" id="toTop">↑ أعلى</button>
    </main>
  </div>
</body>
</html>
